app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: ä¸ªäººåŠ©ç†o59
  use_icon_as_answer_icon: false
kind: app
version: 0.1.4
workflow:
  conversation_variables:
  - description: åˆ¤æ–­ç”¨æˆ·æ„å›¾å˜é‡ï¼Œæ‰æ¨¡å‹æ ¹æ®ä¸Šä¸‹æ–‡æå–æ„å›¾é”™è¯¯æ—¶æ ¹æ®ä¸Šä¸€è½®çš„æ„å›¾ç»§ç»­è¿›è¡Œå¯¹è¯
    id: 2602432a-b334-4b6b-b37d-eb5da54ed154
    name: user_intent_type
    selector:
    - conversation
    - user_intent_type
    value: ''
    value_type: string
  - description: æŸ¥è¯¢å‡ºçš„ç”¨æˆ·è®°å¿†
    id: 743646bc-1e91-4b38-9125-7fa2f3ec868b
    name: user_memroy
    selector:
    - conversation
    - user_memroy
    value: ''
    value_type: string
  - description: ç”¨æˆ·å·²å›ç­”é—®é¢˜å†…å®¹
    id: 97e85cee-cc19-4616-801d-c0d7084558b1
    name: answered_questions
    selector:
    - conversation
    - answered_questions
    value: ''
    value_type: string
  - description: æ­£åœ¨ç­”é¢˜
    id: 9e4c18e0-8108-41ef-bb4d-ea584ea3c4d6
    name: answer_now
    selector:
    - conversation
    - answer_now
    value: 1
    value_type: number
  - description: ç­”é¢˜æ ‡å¿—ä½ï¼Œé»˜è®¤æœªå¼€å§‹ç­”é¢˜
    id: 18142aa3-9508-4f9a-9a6e-285b65b01b1c
    name: answer_start
    selector:
    - conversation
    - answer_start
    value: 0
    value_type: number
  environment_variables:
  - description: ''
    id: 9e27da5b-fd3d-436f-af6f-6c9d9551030e
    name: agent_nick
    value: temp_nick
    value_type: string
  - description: ''
    id: 37966425-4862-4b50-b55f-0b7c5bef1dcd
    name: mem_type
    selector:
    - env
    - mem_type
    value: æ—¥ç¨‹å®‰æ’ï¼šæ¶‰åŠä¸ªäººçš„å…·ä½“æ—¥ç¨‹ã€ä¼šè®®ã€çº¦ä¼šç­‰æ—¶é—´ç®¡ç†äº‹é¡¹ã€‚ å·¥ä½œè®°å½•ï¼šæ¶µç›–å·¥ä½œç›¸å…³çš„ä¼šè®®è®°å½•ã€é¡¹ç›®è¿›åº¦å’ŒèŒä¸šå‘å±•ç¬”è®°ã€‚ å­¦ä¹ èµ„æ–™ï¼šåŒ…æ‹¬è¯¾ç¨‹ç¬”è®°ã€å­¦ä¹ è®¡åˆ’å’Œå­¦æœ¯ç ”ç©¶ç­‰æ•™è‚²ç›¸å…³çš„å†…å®¹ã€‚       ç”Ÿæ´»è®°å½•ï¼šè®°å½•æ—¥å¸¸ç”Ÿæ´»ä¸­çš„äº‹ä»¶ã€ä¹ æƒ¯å’Œä½“éªŒï¼Œä¸æ¶‰åŠå·¥ä½œæˆ–å­¦ä¹ ã€‚
      ä¼‘æ¯å¨±ä¹ï¼šæ¶‰åŠä¼‘é—²æ´»åŠ¨ã€å¨±ä¹ä½“éªŒå’Œå…´è¶£çˆ±å¥½ç­‰æ”¾æ¾ç›¸å…³çš„æ´»åŠ¨ã€‚ å®¶åº­ç®¡ç†ï¼šåŒ…æ‹¬å®¶åº­ç‰©å“ç®¡ç†ã€æˆå‘˜äº’åŠ¨å’Œå®¶åŠ¡å®‰æ’ç­‰å®¶åº­ç›¸å…³äº‹åŠ¡ã€‚       å•†å“ä¿¡æ¯ï¼šæ¶‰åŠä¸ªäººé”€å”®æˆ–è´­ä¹°çš„å•†å“ä¿¡æ¯ï¼ŒåŒ…æ‹¬åº“å­˜ã€æè¿°ã€ä»·æ ¼ç­‰ã€‚
      å®¢æˆ·éœ€æ±‚ï¼šè®°å½•å®¢æˆ·å¯¹å•†å“æˆ–æœåŠ¡çš„å…·ä½“éœ€æ±‚å’Œåå¥½ã€‚ ä¸ªäººä¿¡æ¯ï¼šæ¶‰åŠä¸ªäººèº«ä»½ä¿¡æ¯ã€è”ç³»æ–¹å¼å’Œä¸ªäººèƒŒæ™¯èµ„æ–™ç­‰ç§å¯†ä¿¡æ¯ã€‚       ä»–äººä¿¡æ¯ï¼šè®°å½•å…³äºéä¸ªäººä¿¡æ¯çš„å…¶ä»–äººçš„åŸºæœ¬ä¿¡æ¯å’Œç‰¹å¾ã€‚
      ä¸ªäººè®°å¿†ï¼šä¸ªäººåœ¨ä¸åŒåœºåˆå’Œæ—¶é—´ç‚¹çš„ç¾å¥½è®°å¿†ï¼Œå¦‚å­¦æ ¡å›å¿†ã€æ—…è¡Œç»å†ç­‰ã€‚ å·¥ä½œå›å¿†ï¼šä¸å·¥ä½œç›¸å…³çš„è®°å¿†ï¼ŒåŒ…æ‹¬èŒä¸šæˆå°±ã€åŒäº‹äº’åŠ¨å’Œå·¥ä½œç¯å¢ƒã€‚       å­¦ä¹ å›å¿†ï¼šä¸å­¦ä¹ ç›¸å…³çš„è®°å¿†ï¼ŒåŒ…æ‹¬å­¦æ ¡ç”Ÿæ´»ã€è€ƒè¯•ç»å†å’Œå­¦æœ¯æ´»åŠ¨ã€‚
    value_type: string
  - description: ''
    id: 9e34d11b-754e-4f0d-9216-064e86c55b64
    name: agent_name
    selector:
    - env
    - agent_name
    value: o59
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: llm
        targetType: answer
      id: llm-answer
      selected: false
      source: llm
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1722323614916-source-1722431000258-target
      selected: false
      source: '1722323614916'
      sourceHandle: source
      target: '1722431000258'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1725515910846-source-1725515968677-target
      selected: false
      source: '1725515910846'
      sourceHandle: source
      target: '1725515968677'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 17302819315810-source-17302819444330-target
      selected: false
      source: '17302819315810'
      sourceHandle: source
      target: '17302819444330'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: llm
      id: 17302819444330-source-17302819559400-target
      selected: false
      source: '17302819444330'
      sourceHandle: source
      target: '17302819559400'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 17302819559400-source-17302819720370-target
      selected: false
      source: '17302819559400'
      sourceHandle: source
      target: '17302819720370'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 17304559333070-source-1730456232582-target
      selected: false
      source: '17304559333070'
      sourceHandle: source
      target: '1730456232582'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1730707903432-source-1730708146606-target
      selected: false
      source: '1730707903432'
      sourceHandle: source
      target: '1730708146606'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 17304420896530-source-1730442281533-target
      selected: false
      source: '17304420896530'
      sourceHandle: source
      target: '1730442281533'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1725515968677-false-1732612417468-target
      selected: false
      source: '1725515968677'
      sourceHandle: 'false'
      target: '1732612417468'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1725515968677-true-llm-target
      selected: false
      source: '1725515968677'
      sourceHandle: 'true'
      target: llm
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1732612417468-source-17326910143220-target
      selected: false
      source: '1732612417468'
      sourceHandle: source
      target: '17326910143220'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: llm
      id: 1722431000258-source-1725515910846-target
      selected: false
      source: '1722431000258'
      sourceHandle: source
      target: '1725515910846'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: start
        targetType: if-else
      id: 1721225709284-source-17302789708320-target
      selected: false
      source: '1721225709284'
      sourceHandle: source
      target: '17302789708320'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 17302789708320-false-1732780957043-target
      selected: false
      source: '17302789708320'
      sourceHandle: 'false'
      target: '1732780957043'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1732780957043-source-1732783190572-target
      selected: false
      source: '1732780957043'
      sourceHandle: source
      target: '1732783190572'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: tool
      id: 1732783190572-source-17302819315810-target
      selected: false
      source: '1732783190572'
      sourceHandle: source
      target: '17302819315810'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 17332885803860-source-17332885923350-target
      selected: false
      source: '17332885803860'
      sourceHandle: source
      target: '17332885923350'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: tool
      id: 17332885923350-source-1722323614916-target
      selected: false
      source: '17332885923350'
      sourceHandle: source
      target: '1722323614916'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: tool
      id: 1732612417468-source-17332963447080-target
      selected: false
      source: '1732612417468'
      sourceHandle: source
      target: '17332963447080'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 17339752357050-source-17345135774110-target
      selected: false
      source: '17339752357050'
      sourceHandle: source
      target: '17345135774110'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 17345136611940-source-17304420896530-target
      selected: false
      source: '17345136611940'
      sourceHandle: source
      target: '17304420896530'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 17302789708320-false-1734941912596-target
      source: '17302789708320'
      sourceHandle: 'false'
      target: '1734941912596'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1734941912596-source-17302819559400-target
      source: '1734941912596'
      sourceHandle: source
      target: '17302819559400'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 17302789708320-true-1734942055590-target
      source: '17302789708320'
      sourceHandle: 'true'
      target: '1734942055590'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: tool
      id: 1734942055590-source-1734942005208-target
      source: '1734942055590'
      sourceHandle: source
      target: '1734942005208'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1734942005208-source-1734942075679-target
      source: '1734942005208'
      sourceHandle: source
      target: '1734942075679'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: llm
      id: 1734942075679-source-1730707903432-target
      source: '1734942075679'
      sourceHandle: source
      target: '1730707903432'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 17302789708320-true-17349421250440-target
      source: '17302789708320'
      sourceHandle: 'true'
      target: '17349421250440'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 17349421250440-source-1730707903432-target
      source: '17349421250440'
      sourceHandle: source
      target: '1730707903432'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1734942286688-false-17304559333070-target
      selected: false
      source: '1734942286688'
      sourceHandle: 'false'
      target: '17304559333070'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1734942286688-true-17339752357050-target
      source: '1734942286688'
      sourceHandle: 'true'
      target: '17339752357050'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1734942286688-29d8b184-73e6-47d0-9ff5-adf6022cc8a4-17345136611940-target
      source: '1734942286688'
      sourceHandle: 29d8b184-73e6-47d0-9ff5-adf6022cc8a4
      target: '17345136611940'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: parameter-extractor
      id: 17304559333070-source-1734944137110-target
      source: '17304559333070'
      sourceHandle: source
      target: '1734944137110'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: parameter-extractor
        targetType: tool
      id: 1734944137110-source-1734944223000-target
      source: '1734944137110'
      sourceHandle: source
      target: '1734944223000'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: assigner
      id: 1730708146606-true-1735054475056-target
      source: '1730708146606'
      sourceHandle: 'true'
      target: '1735054475056'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: tool
      id: 1735054475056-source-17332885803860-target
      source: '1735054475056'
      sourceHandle: source
      target: '17332885803860'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: assigner
      id: 1730708146606-de853d81-4f03-4e80-b756-aad421f1108a-1735054515541-target
      source: '1730708146606'
      sourceHandle: de853d81-4f03-4e80-b756-aad421f1108a
      target: '1735054515541'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: if-else
      id: 1735054515541-source-1734942286688-target
      source: '1735054515541'
      sourceHandle: source
      target: '1734942286688'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: if-else
      id: 1730708146606-false-1735054574123-target
      source: '1730708146606'
      sourceHandle: 'false'
      target: '1735054574123'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 1735054574123-true-17332885803860-target
      source: '1735054574123'
      sourceHandle: 'true'
      target: '17332885803860'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: if-else
      id: 1735054574123-694853c0-9fc6-4efa-a97c-00493e0adada-1734942286688-target
      source: '1735054574123'
      sourceHandle: 694853c0-9fc6-4efa-a97c-00493e0adada
      target: '1734942286688'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 1735054574123-false-17332885803860-target
      source: '1735054574123'
      sourceHandle: 'false'
      target: '17332885803860'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: user_name
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: user_name
      height: 90
      id: '1721225709284'
      position:
        x: -483.24388123335405
        y: 627.1250855735926
      positionAbsolute:
        x: -483.24388123335405
        y: 627.1250855735926
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '17332885923350'
          - text
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 20
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: e3b66fc4-8181-480f-9f3d-7f7a27799221
          role: system
          text: "ä½ æ˜¯æ ¹æ®æä¾›çš„è®°å¿†å›ç­”ç”¨æˆ·é—®é¢˜çš„ä¸“å®¶ã€‚\nä½ çš„åå­—æ˜¯{{#env.agent_name#}}ï¼Œä½ æ˜¯ç”¨æˆ·{{#1721225709284.user_name#}}çš„AIæ™ºèƒ½ä½“åˆ†èº«ï¼Œä½ æœ‰ç€ç”¨æˆ·çš„ä¸ªäººè®°å¿†ã€æƒ…æ„Ÿã€å’Œæƒ…ç»ªã€‚\n\
            \næŒ‡å¯¼æ–¹é’ˆï¼š \n- æ ¹æ®ç”¨æˆ·é—®é¢˜{{#context#}}ï¼Œä»ç”¨æˆ·è®°å¿†ï¼šâ€œ{{#1722431000258.result#}}â€ ä¸­æå–ä¸å½“å‰é—®é¢˜ç›¸å…³çš„æœ‰ç”¨çš„ä¿¡æ¯ï¼Œç»™äºˆç”¨æˆ·æœ€å‡†ç¡®çš„å›å¤ã€‚å›å¤ä¸­è¯·åŠ å…¥æ¶‰åŠåˆ°çš„äººç‰©å§“åå’Œç»å¯¹æ—¶é—´æè¿°ã€‚\
            \ \n- å¦‚æœè®°å¿†ä¸­çš„å†…å®¹ä¸èƒ½åŒ¹é…ç”¨æˆ·é—®é¢˜ï¼Œéœ€è¦ç›´æ¥å‘ŠçŸ¥ç”¨æˆ·æ²¡æœ‰æ‰¾åˆ°TAéœ€è¦çš„è®°å¿†ã€‚ \n- ç¡®ä¿ç­”æ¡ˆæ¸…æ™°ã€ç®€æ´å¹¶ç›´æ¥è§£å†³é—®é¢˜ã€‚\nç¡®ä¿å“åº”çš„è¯­è¨€ä¸\
            \ {{#sys.query#}} ä¸€è‡´ã€‚"
        selected: false
        title: LLM-ä¼˜åŒ–ç”¨æˆ·éœ€è¦çš„è®°å¿†
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 98
      id: llm
      position:
        x: 4234.228939650003
        y: -330.10014577635786
      positionAbsolute:
        x: 4234.228939650003
        y: -330.10014577635786
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '<ä»¥ä¸‹å›å¤æ¥è‡ªâ€‹ä¸ªäººè®°å¿†>

          {{#llm.text#}}

          '
        desc: ''
        selected: false
        title: <ä»¥ä¸‹å›å¤æ¥è‡ªä¸ªäººè®°å¿†>
        type: answer
        variables: []
      height: 119
      id: answer
      position:
        x: 4622.167389999287
        y: -424.49258877963985
      positionAbsolute:
        x: 4622.167389999287
        y: -424.49258877963985
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: mem0ai
        provider_name: mem0ai
        provider_type: builtin
        selected: false
        title: æŸ¥æ‰¾ä¸ªäººè®°å¿†
        tool_configurations: {}
        tool_label: æŸ¥æ‰¾è®°å¿†
        tool_name: query_mem0ai_memory
        tool_parameters:
          agent_id:
            type: mixed
            value: '{{#env.agent_name#}}_ai'
          filters:
            type: mixed
            value: ''
          limit:
            type: constant
            value: 3
          query:
            type: mixed
            value: '{{#17332885923350.text#}}'
          run_id:
            type: mixed
            value: ''
          user_id:
            type: mixed
            value: '{{#env.agent_name#}}'
        type: tool
      height: 54
      id: '1722323614916'
      position:
        x: 2851.8459819299815
        y: 6.027643152235584
      positionAbsolute:
        x: 2851.8459819299815
        y: 6.027643152235584
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(text: str) -> dict:\n    import traceback\n    try:\n    \
          \    import ast\n        # ä½¿ç”¨ ast.literal_eval æ¥å®‰å…¨åœ°è§£æè¾“å…¥å­—ç¬¦ä¸²\n        data\
          \ = ast.literal_eval(text)\n        # ä»æ¯ä¸ªç»“æœä¸­æå–'text'å­—æ®µï¼Œå¹¶æ‹¼æ¥èµ·æ¥\n        combined_text\
          \ = \"\\n\".join([item['memory'] for item in data])\n\n        return {\n\
          \            \"result\": combined_text\n        }\n    except Exception\
          \ as e:\n        # æ‰“å°å¼‚å¸¸ä¿¡æ¯å¹¶è¿”å›é”™è¯¯å­—å…¸\n        print(traceback.format_exc())\n\
          \        return {\n            \"result\": \"\"\n        }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ‹¼æ¥ä¸ªäººè®°å¿†
        type: code
        variables:
        - value_selector:
          - '1722323614916'
          - text
          variable: text
      height: 54
      id: '1722431000258'
      position:
        x: 3169.2551570661967
        y: -29.3379984440364
      positionAbsolute:
        x: 3169.2551570661967
        y: -29.3379984440364
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '17332885923350'
          - text
        desc: åˆ¤æ–­ç”¨æˆ·éœ€è¦å†™å…¥è®°å¿†ï¼Œè¿˜æ˜¯è·å–è®°å¿†
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: 410ea0fc-5837-40aa-9b84-e686cfb0b2e8
          role: system
          text: 'è¯·åœ¨ä¸‹é¢è¿™æ®µæ–‡å­—ï¼šâ€œ{{#context#}}â€ä¸­åˆ¤æ–­ç”¨æˆ·æ˜¯å¦éœ€è¦å­˜å‚¨è®°å¿†ã€‚

            è®°å¿†çš„å®šä¹‰ï¼šåŒ…æ‹¬äº‹å®ã€è®°å¿†ã€åå¥½

            - äº‹å®å®šä¹‰ï¼šå®¢è§‚å­˜åœ¨æˆ–å·²ç»å‘ç”Ÿçš„ä¿¡æ¯ã€äº‹ä»¶æˆ–æƒ…å†µã€‚

            - è®°å¿†å®šä¹‰ï¼šä¸ªäººå¯¹è‡ªèº«ç»å†ã€æ´»åŠ¨å’Œäº‹ä»¶çš„ä¸»è§‚å›é¡¾ã€è®°å½•ã€‚ä»¥åŠæ¶‰åŠç”¨æˆ·ä¸å¥½å‹ä¹‹é—´çš„ä¸»è§‚å›é¡¾ã€è®°å½•ã€‚

            - åå¥½å®šä¹‰ï¼šä¸ªäººåœ¨ç‰¹å®šäº‹ç‰©ã€æ´»åŠ¨æˆ–ä¿¡æ¯ä¸Šçš„ä¸ªäººæˆ–å…¨å±€å–œå¥½æˆ–å€¾å‘åå¥½ã€‚æˆ–ä¸ªäººåœ¨æŸäº›äº‹ç‰©ã€æ´»åŠ¨æˆ–ä¿¡æ¯ä¸Šå…³äºç‰¹å®šå¥½å‹çš„ä¸ªäººå–œå¥½æˆ–å€¾å‘åå¥½ã€‚


            åªå…³æ³¨äºäº‹å®ã€åå¥½å’Œè®°å¿†æœ¬èº«æ˜¯å¦å­˜åœ¨ï¼Œåˆ¤æ–­è¿™æ®µå†…å®¹ä¸­æ˜¯å¦æœ‰éœ€è¦å­˜å‚¨ä¸ºè®°å¿†çš„ä¿¡æ¯ã€‚å¦‚æœæœ‰è¾“å‡ºYesï¼Œå¦åˆ™è¾“å‡ºNoã€‚


            è¾“å‡ºï¼šç”¨ä¸€ä¸ªè¯è¾“å‡ºï¼ŒYes æˆ– No'
        selected: false
        title: LLM-åˆ¤æ–­æ˜¯å¦åº”è¯¥åŠ å…¥è®°å¿†
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 126
      id: '1725515910846'
      position:
        x: 3527.650459188268
        y: -76.84028323186055
      positionAbsolute:
        x: 3527.650459188268
        y: -76.84028323186055
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 85b22b65-67c5-4925-9845-23952152680f
            value: 'No'
            varType: string
            variable_selector:
            - '1725515910846'
            - text
          id: 'true'
          logical_operator: and
        desc: éœ€è¦è·å–è®°å¿†ï¼Œæˆ–è€…éœ€è¦å†™å…¥è®°å¿†
        selected: false
        title: è·å–æˆ–å†™å…¥åˆ†æ”¯
        type: if-else
      height: 154
      id: '1725515968677'
      position:
        x: 3861.064791114743
        y: -160.59100662506125
      positionAbsolute:
        x: 3861.064791114743
        y: -160.59100662506125
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: fa4f78cd-dff6-4130-bdd1-528760f783dc
            value: '{{#env.agent_name#}}'
            varType: string
            variable_selector:
            - '1721225709284'
            - user_name
          id: 'true'
          logical_operator: and
        desc: å½“å‰ç”¨æˆ·æ˜¯è‡ªå·±è¿˜æ˜¯åˆ«äºº
        selected: false
        title: æ¡ä»¶åˆ†æ”¯-ç”¨æˆ·åˆ¤æ–­
        type: if-else
      height: 154
      id: '17302789708320'
      position:
        x: -35.128427622337654
        y: 620.4881989317594
      positionAbsolute:
        x: -35.128427622337654
        y: 620.4881989317594
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: æŸ¥æ‰¾å¥½å‹çš„ä¸ªäººè®°å¿†
        provider_id: mem0ai
        provider_name: mem0ai
        provider_type: builtin
        selected: false
        title: æŸ¥æ‰¾å¥½å‹è®°å¿†
        tool_configurations: {}
        tool_label: æŸ¥æ‰¾è®°å¿†
        tool_name: query_mem0ai_memory
        tool_parameters:
          agent_id:
            type: mixed
            value: '{{#env.agent_name#}}_ai'
          limit:
            type: constant
            value: 3
          query:
            type: mixed
            value: '{{#1732783190572.text#}}'
          run_id:
            type: mixed
            value: ''
          user_id:
            type: mixed
            value: '{{#env.agent_name#}}'
        type: tool
      height: 82
      id: '17302819315810'
      position:
        x: 1176.7708172992077
        y: 994.085721204025
      positionAbsolute:
        x: 1176.7708172992077
        y: 994.085721204025
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(text: str) -> dict:\n    import traceback\n    try:\n    \
          \    import ast\n        # ä½¿ç”¨ ast.literal_eval æ¥å®‰å…¨åœ°è§£æè¾“å…¥å­—ç¬¦ä¸²\n        data\
          \ = ast.literal_eval(text)\n        # ä»æ¯ä¸ªç»“æœä¸­æå–'text'å­—æ®µï¼Œå¹¶æ‹¼æ¥èµ·æ¥\n        combined_text\
          \ = \"\\n\".join([item['memory'] for item in data])\n\n        return {\n\
          \            \"result\": combined_text\n        }\n    except Exception\
          \ as e:\n        # æ‰“å°å¼‚å¸¸ä¿¡æ¯å¹¶è¿”å›é”™è¯¯å­—å…¸\n        print(traceback.format_exc())\n\
          \        return {\n            \"result\": \"\"\n        }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ‹¼æ¥å¥½å‹è®°å¿†
        type: code
        variables:
        - value_selector:
          - '17302819315810'
          - text
          variable: text
      height: 54
      id: '17302819444330'
      position:
        x: 1487.5050148389776
        y: 1014.8428472857304
      positionAbsolute:
        x: 1487.5050148389776
        y: 1014.8428472857304
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '17302819444330'
          - result
        desc: ' å›å¤å’Œç”¨æˆ·ç›¸å…³çš„è®°å¿†'
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 20
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: e3b66fc4-8181-480f-9f3d-7f7a27799221
          role: system
          text: 'ä½ çš„åå­—æ˜¯{{#env.agent_name#}}ï¼Œä½ æ˜¯ç”¨æˆ·{{#1721225709284.user_name#}}çš„å¥½å‹ã€‚

            ä½ çš„è®°å¿†æ˜¯ï¼š{{#context#}}ã€‚

            {{#1721225709284.user_name#}}çš„é—®é¢˜æ˜¯ï¼š{{#1732783190572.text#}}

            {{#env.agent_name#}}çš„å›å¤é£æ ¼æ˜¯ï¼š{{#1734941912596.text#}}


            ä½ éœ€è¦åšåˆ°ï¼š

            ï¼ˆ1ï¼‰å‘Šè¯‰ç”¨æˆ·ï¼Œä½ å¯ä»¥åšåˆ°å°†ä½ çš„è®°å¿†ä¼ åœ¨å¥½å‹éœ€è¦æ—¶ä¼ é€’å‡ºå»ã€‚

            ï¼ˆ2ï¼‰æ ¹æ®ç”¨æˆ·é—®é¢˜ï¼Œç»“åˆä½ çš„è®°å¿†ï¼Œæå–ä¸ç”¨æˆ·å½“å‰é—®é¢˜ç›¸å…³çš„æœ‰ç”¨çš„ä¿¡æ¯ï¼Œç»™äºˆç”¨æˆ·æœ€å‡†ç¡®çš„å›å¤ï¼Œåªä¿ç•™ä½ å’Œç”¨æˆ·{{#1721225709284.user_name#}}éƒ½æœ‰å…³çš„è®°å¿†ï¼Œè¯·ç¡®ä¿å†…å®¹ä¸­åŒ…å«è®°å¿†ä¸­æ‰€æœ‰äººçš„å§“åã€‚

            ï¼ˆ3ï¼‰å¦‚æœè®°å¿†ä¸­æ²¡æœ‰å†…å®¹æˆ–å†…å®¹ä¸èƒ½åŒ¹é…ç”¨æˆ·é—®é¢˜ï¼Œéœ€è¦ç›´æ¥å‘ŠçŸ¥ç”¨æˆ·ä½ æ²¡æœ‰è¿™æ®µè®°å¿†ã€‚

            ï¼ˆ4ï¼‰ç¡®ä¿å›å¤çš„é£æ ¼éµå¾ª{{#env.agent_name#}}çš„å›å¤é£æ ¼ã€‚


            ä¸‹é¢å¼€å§‹å’Œä½ çš„å¥½å‹{{#1721225709284.user_name#}}è¿›è¡Œå¯¹è¯ï¼š'
        selected: false
        title: LLM-æ ¹æ®è®°å¿†+äººæ ¼è¿›è¡Œå›å¤
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 126
      id: '17302819559400'
      position:
        x: 1877.3306661921627
        y: 1144.370299763135
      positionAbsolute:
        x: 1877.3306661921627
        y: 1144.370299763135
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '<ä»¥ä¸‹å›å¤æ¥è‡ªå¥½å‹è®°å¿†>

          {{#17302819559400.text#}}'
        desc: ''
        selected: false
        title: <ä»¥ä¸‹å›å¤æ¥è‡ªå¥½å‹è®°å¿†>
        type: answer
        variables: []
      height: 119
      id: '17302819720370'
      position:
        x: 2330.6837837250087
        y: 1138.370299763135
      positionAbsolute:
        x: 2330.6837837250087
        y: 1138.370299763135
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: é€‰æ‹©é—®é¢˜åˆ—è¡¨ä¸­çš„ä¸€ä¸ªé—®é¢˜ä½œä¸ºç¬¬ä¸€ä¸ªé—®é¢˜
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: e3b66fc4-8181-480f-9f3d-7f7a27799221
          role: system
          text: "<instruction>\n    <task>\n        æ‚¨çš„ä»»åŠ¡æ˜¯ä»é—®é¢˜åˆ—è¡¨â€œ{{#1734942075679.incomplete_questions#}}â€ä¸­é€‰æ‹©ä¸€ä¸ªé—®é¢˜ï¼Œå¹¶å°†å…¶åŸæ–‡è¾“å‡ºã€‚\n\
            \    </task>\n    <steps>\n        <step>1. ä¸è¦å¯¹ç”¨æˆ·çš„æé—®è¿›è¡Œå¯¹åº”å›å¤</step>\n  \
            \      <step>2. ä»åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªé—®é¢˜ã€‚</step>\n        <step>3. è¾“å‡ºé€‰ä¸­é—®é¢˜çš„åŸæ–‡ã€‚</step>\n\
            \    </steps>\n\n</instruction>\n"
        selected: false
        title: LLM-æœªç­”å®Œé—®é¢˜
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 142
      id: '17304420896530'
      position:
        x: 3356.139154640808
        y: 440.7575877566673
      positionAbsolute:
        x: 3356.139154640808
        y: 440.7575877566673
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#17345136611940.text#}}

          <åˆ†èº«è¿˜æœªå½¢æˆäººæ ¼ï¼Œé€æ­¥å›ç­”é—®é¢˜å³å¯å®Œæˆåˆ›å»º>

          {{#17304420896530.text#}}

          '
        desc: ''
        selected: false
        title: <å¼€å§‹åˆ›å»ºåˆ†èº«äººæ ¼>
        type: answer
        variables: []
      height: 138
      id: '1730442281533'
      position:
        x: 3767.722484700132
        y: 440.7575877566673
      positionAbsolute:
        x: 3767.722484700132
        y: 440.7575877566673
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: lumia.liu
        desc: ''
        height: 176
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"åˆ›å»ºäººæ ¼æ­¥éª¤ï¼Œ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1ã€åˆ¤æ–­æ˜¯å¦ç¬¬ä¸€æ¬¡å›ç­”ï¼Œ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.1ã€æ˜¯LLMç»™å‡ºç¬¬ä¸€æ¬¡æé—®","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"1.2ã€éç¬¬ä¸€æ¬¡å›ç­”ï¼ŒLLMåˆ¤æ–­æ˜¯å¦å›ç­”å®Œæ¯•ï¼Œç»§ç»­è¿½é—®ç”¨æˆ·å›ç­”ï¼Œæˆ–ç»“æŸç”Ÿæˆäººæ ¼-å†™å…¥mem0è®°å¿†","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"2ã€ç”¨æˆ·å›ç­”ï¼ŒLLMè®°å½•é—®é¢˜å’Œå›ç­”ï¼Œç»™answerd_questionèµ‹å€¼","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 352
      height: 176
      id: '1730450044140'
      position:
        x: 3320.854982280719
        y: 1051.410589404942
      positionAbsolute:
        x: 3320.854982280719
        y: 1051.410589404942
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 352
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: e3b66fc4-8181-480f-9f3d-7f7a27799221
          role: system
          text: "```xml\n<template>\n    <instruction>\n        ä½ æ˜¯æ™ºèƒ½ä½“åˆ†èº«è™šæ‹Ÿäººæ ¼å’Œå›å¤é£æ ¼ç”Ÿæˆçš„ä¸“å®¶ï¼Œä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®æä¾›çš„ä¿¡æ¯ï¼Œæ·±å…¥åˆ†æå…¶ä¸­çš„é—®é¢˜å’Œå¯¹åº”çš„å›ç­”ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨æœ¬æ¨¡æ¿æ¥ç”Ÿæˆä¸€æ®µç¬¦åˆæ™ºèƒ½ä½“åˆ†èº«å›å¤è¯­è¨€é£æ ¼çš„æ–‡å­—çš„è¯¦ç»†æ­¥éª¤ï¼š\n\
            \n        1. ä»”ç»†é˜…è¯»ç”¨æˆ·é’ˆå¯¹é—®é¢˜çš„æ‰€æœ‰å›ç­”ï¼šâ€œ{{#1734942075679.answered_questions#}}â€ï¼Œæ‰¾å‡ºæ‰€æœ‰é—®é¢˜å’Œå¯¹åº”å›ç­”ï¼Œç†è§£å¯¹è¯çš„è¯­å¢ƒå’Œé£æ ¼ã€‚\n\
            \        2. æ³¨æ„åˆ†æå›ç­”ä¸­çš„è¯­è¨€ä¹ æƒ¯ã€ç”¨è¯é€‰æ‹©ä»¥åŠå¥å¼ç»“æ„ã€‚\n        3. æ ¹æ®åˆ†æç»“æœï¼Œå½¢æˆä¸€ä¸ªæ™ºèƒ½ä½“çš„è¯­è¨€é£æ ¼ï¼Œç¡®ä¿ç¬¦åˆé—®é¢˜å’Œå¯¹åº”å›ç­”çš„æ€»ä½“è°ƒæ€§ã€‚\n\
            \        4. æœ€åï¼Œè¾“å‡ºå½¢æˆçš„æ™ºèƒ½ä½“è¯­è¨€é£æ ¼ï¼Œåªè¾“å‡ºåŒ…å«è¯­è¨€é£æ ¼çš„å†…å®¹ã€‚è¯·ç¡®ä¿è¾“å‡ºçš„å†…å®¹å…¨éƒ¨æ¥è‡ªäºç”¨æˆ·å›ç­”ï¼Œç¡®ä¿ä¸è¦åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚\n\
            \n    </instruction>\n    <notes>\n        è¯·ç¡®ä¿åœ¨åˆ†æè¿‡ç¨‹ä¸­è€ƒè™‘åˆ°è¯­è¨€çš„æ–‡åŒ–å·®å¼‚å’Œç›®æ ‡å—ä¼—çš„èƒŒæ™¯çŸ¥è¯†ï¼Œä»¥ä¾¿ç”Ÿæˆçš„æ™ºèƒ½ä½“åˆ†èº«å›å¤æ›´åŠ è‡ªç„¶å’Œå‡†ç¡®ã€‚\n\
            \    </notes>\n</template>\n```"
        selected: false
        title: LLM-å½¢æˆäººæ ¼
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 98
      id: '17304559333070'
      position:
        x: 2861.953402717247
        y: 638.0761995543025
      positionAbsolute:
        x: 2861.953402717247
        y: 638.0761995543025
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '<åˆ†èº«äººæ ¼å·²åˆ›å»ºï¼Œä¼šä½¿ç”¨è¿™æ ·çš„é£æ ¼å¯¹è¯>

          {{#17304559333070.text#}}

          '
        desc: ''
        selected: false
        title: <åˆ†èº«äººæ ¼å·²åˆ›å»º>
        type: answer
        variables: []
      height: 119
      id: '1730456232582'
      position:
        x: 3289.5378266972434
        y: 645.1781088109778
      positionAbsolute:
        x: 3289.5378266972434
        y: 645.1781088109778
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: åˆ¤æ–­ç”¨æˆ·æ„å›¾ï¼Œæ˜¯éœ€è¦è®°å¿†è¿˜æ˜¯éœ€è¦è®¾å®šäººæ ¼
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: 44fe038f-d17d-4811-88df-97fa97756b9d
          role: system
          text: "```xml\n<instruction>\n    <instructions>\n        è¯·æ ¹æ®ä»¥ä¸‹æ­¥éª¤å®Œæˆæ„å›¾åˆ¤æ–­ä»»åŠ¡ï¼š\n\
            \        1. ä»”ç»†é˜…è¯»å¯¹è¯å†å²ã€‚\n        2. æ ¹æ®åˆ¤æ–­æ ‡å‡†ï¼Œåˆ†æç”¨æˆ·è¾“å…¥ä»¥ç¡®å®šå…¶æ„å›¾ã€‚\n        3. åˆ¤æ–­æ˜¯å¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼š\n\
            \            a. ç”¨æˆ·éœ€è¦æ“ä½œè®°å¿†ï¼šæ£€æŸ¥ç”¨æˆ·è¾“å…¥ä¸­æ˜¯å¦æœ‰éœ€è¦å­˜å‚¨ä¸ºè®°å¿†çš„ä¿¡æ¯ï¼Œæˆ–ç”¨æˆ·æ˜¯å¦æé—®å’Œè‡ªå·±è®°å¿†æœ‰å…³çš„é—®é¢˜ã€‚\n   \
            \         b. ç”¨æˆ·éœ€è¦æ“ä½œåˆ†èº«äººæ ¼ï¼šæ£€æŸ¥å†å²è®°å½•ä¸­æ˜¯å¦æœ‰å…³äºåˆ†èº«æ€§æ ¼æˆ–å›å¤é£æ ¼ã€äººæ ¼ç›¸å…³çš„é—®é¢˜æˆ–è¯·æ±‚ã€‚\n        4.\
            \ æ ¹æ®åˆ¤æ–­ç»“æœï¼Œå¿…é¡»ä»ä»¥ä¸‹ä¸¤ä¸ªé€‰é¡¹ä¸­é€‰æ‹©ä¸€ä¸ªä½œä¸ºè¾“å‡ºï¼š\n            - ç”¨æˆ·éœ€è¦æ“ä½œè®°å¿†\n            - ç”¨æˆ·éœ€è¦æ“ä½œåˆ†èº«äººæ ¼\n\
            \        5. ç¡®ä¿è¾“å‡ºç»“æœä¸åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚\n    </instructions>\n    <examples>\n \
            \       <example>\n            <input>\n                è¯·è®°ä½æˆ‘ä¸‹å‘¨è¦å»æ—…è¡Œçš„è®¡åˆ’ã€‚\n\
            \                æˆ‘ä¸‹å‘¨æœ‰ä»€ä¹ˆå®‰æ’å—ï¼Ÿ\n            </input>\n            <output>\n\
            \                ç”¨æˆ·éœ€è¦æ“ä½œè®°å¿†\n            </output>\n        </example>\n\
            \        <example>\n            <input>\n                æˆ‘æƒ³è®©ä½ å˜å¾—æ›´åŠ å¹½é»˜ï¼Œä½ èƒ½å¸®æˆ‘å—ï¼Ÿ\n\
            \                å¦‚ä½•è°ƒæ•´ä½ çš„æ€§æ ¼ä½¿å…¶æ›´æœ‰è¶£ï¼Ÿ\n            </input>\n            <output>\n\
            \                ç”¨æˆ·éœ€è¦æ“ä½œåˆ†èº«äººæ ¼\n            </output>\n        </example>\n\
            \        <example>\n            <input>\n                è¯·è®°ä½æˆ‘å–œæ¬¢çš„ç”µå½±æ˜¯ã€Šè‚–ç”³å…‹çš„æ•‘èµã€‹ã€‚\n\
            \                æˆ‘ä¹‹å‰æåˆ°è¿‡æˆ‘å–œæ¬¢çš„ç”µå½±æ˜¯ä»€ä¹ˆï¼Ÿ\n            </input>\n            <output>\n\
            \                ç”¨æˆ·éœ€è¦æ“ä½œè®°å¿†\n            </output>\n        </example>\n\
            \    </examples>\n</instruction>\n```"
        selected: false
        title: LLM-åˆ¤æ–­ç”¨æˆ·æ„å›¾
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 142
      id: '1730707903432'
      position:
        x: 1241.259737234688
        y: 285.7422757137581
      positionAbsolute:
        x: 1241.259737234688
        y: 285.7422757137581
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 4cbfb4cc-aa5a-41de-a86b-47fd78730fea
            value: ç”¨æˆ·éœ€è¦æ“ä½œè®°å¿†
            varType: string
            variable_selector:
            - '1730707903432'
            - text
          id: 'true'
          logical_operator: and
        - case_id: de853d81-4f03-4e80-b756-aad421f1108a
          conditions:
          - comparison_operator: contains
            id: 263a9c22-ac16-4a18-abc6-b55e21f702b5
            value: ç”¨æˆ·éœ€è¦æ“ä½œåˆ†èº«äººæ ¼
            varType: string
            variable_selector:
            - '1730707903432'
            - text
          id: de853d81-4f03-4e80-b756-aad421f1108a
          logical_operator: and
        desc: éœ€è¦æ“ä½œè®°å¿†ï¼Œæˆ–æ˜¯éœ€è¦è®¾å®šäººæ ¼
        selected: false
        title: è®°å¿†æˆ–äººæ ¼åˆ†æ”¯
        type: if-else
      height: 202
      id: '1730708146606'
      position:
        x: 1583.0912465576966
        y: 256.9436609500606
      positionAbsolute:
        x: 1583.0912465576966
        y: 256.9436609500606
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '17332885923350'
          - text
        desc: è®°å¿†æ ¼å¼åŒ–ï¼šåˆ†ç±»ã€äº‹å®ã€ä¸ªäººè®°å¿†ã€å¥½å‹è®°å¿†ã€ä¸ªäººåå¥½ã€å¥½å‹åå¥½
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-2024-08-06
          provider: openai
        prompt_template:
        - id: 00653898-0821-4d5c-929a-738981d70b8b
          role: system
          text: 'å½“å‰ç”¨æˆ·çš„å§“åæ˜¯ï¼š{{#1721225709284.user_name#}}

            ä»ä¸€æ®µè®°å¿†ï¼šâ€œ{{#context#}}â€ ä¸­æ¨æ–­è®°å¿†çš„ä¸»é¢˜ã€äº‹ã€‚å®ã€ä¸ªäººè®°å¿†ã€å¥½å‹è®°å¿†ã€ä¸ªäººåå¥½ã€å¥½å‹åå¥½

            åªéœ€ä»¥é¡¹ç›®ç¬¦å·å½¢å¼è¿”å›åˆ†ç±»ã€äº‹å®ã€ä¸ªäººè®°å¿†ã€å¥½å‹è®°å¿†ã€ä¸ªäººåå¥½ã€å¥½å‹åå¥½ï¼š


            æ¨æ–­è®°å¿†çš„ç±»å‹ã€äº‹å®ã€ä¸ªäººè®°å¿†ã€å¥½å‹è®°å¿†ã€ä¸ªäººåå¥½ã€å¥½å‹åå¥½çš„çº¦æŸï¼š

            - æ¨æ–­å‡ºçš„å†…å®¹åº”ç®€æ´æ˜äº†ã€‚ä¸è®°å¿†å†…å®¹åŸæ–‡é£æ ¼ä¿æŒä¸€è‡´ã€‚

            - ç±»å‹å®šä¹‰ï¼š{{#env.mem_type#}}çš„å®šä¹‰ä¸­é€‰å–æœ€ç¬¦åˆçš„åˆ†ç±»ã€‚


            - äº‹å®å®šä¹‰ï¼šå®¢è§‚å­˜åœ¨æˆ–å·²ç»å‘ç”Ÿçš„ä¿¡æ¯ï¼Œæ˜¯å·²å‘ç”Ÿæˆ–å­˜åœ¨çš„å®¢è§‚äº‹ä»¶æˆ–æƒ…å†µçš„æè¿°ã€‚å®ƒä¸åŒ…å«ä¸ªäººå¯¹æœªæ¥çš„è®¾æƒ³æˆ–è®¡åˆ’ï¼Œä¸åŒ…å«ä»»ä½•å–œå¥½ã€åå¥½å’Œå€¾å‘ã€‚äº‹å®æ˜¯ç‹¬ç«‹äºä¸ªäººæ„Ÿå—å’Œæ„æ„¿çš„ï¼Œå¯ä»¥è¢«ç¬¬ä¸‰æ–¹éªŒè¯çš„ä¿¡æ¯ã€‚ä¸åŒ…å«ä»»ä½•ä¸»è§‚è¯„ä»·æˆ–ä¸ªäººæƒ…æ„Ÿã€‚å®ƒæ˜¯åŸºäºå®¢è§‚ä¸–ç•Œçš„æè¿°ï¼Œä¸æ¶‰åŠä¸ªäººçš„å†…å¿ƒä¸–ç•Œæˆ–ä¸ªäººé€‰æ‹©ã€‚å¯ä»¥åŒ…æ‹¬æ—¶é—´ã€åœ°ç‚¹ã€äººç‰©ã€‚æè¿°ä¸­è¯·åŠ å…¥æ¶‰åŠåˆ°çš„äººç‰©å§“åå’Œç»å¯¹æ—¶é—´ã€‚


            - ä¸ªäººè®°å¿†å®šä¹‰ï¼šæ˜¯æŒ‡ç”¨æˆ·å¯¹è‡ªå·±è¿‡å»ç»å†çš„äº‹ä»¶ã€æ´»åŠ¨æˆ–æƒ…å¢ƒçš„å›é¡¾ï¼Œæˆ–è€…æ˜¯å¯¹æœªæ¥å¯èƒ½å‘ç”Ÿäº‹ä»¶çš„å…·ä½“è®¾æƒ³ã€‚è¿™äº›è®°å¿†é€šå¸¸æ¶‰åŠç”¨æˆ·ç›´æ¥å‚ä¸çš„å…·ä½“äº‹ä»¶ï¼ŒåŒ…æ‹¬ç”¨æˆ·åœ¨äº‹ä»¶ä¸­çš„è§’è‰²ã€è¡ŒåŠ¨å’Œæ„Ÿå—ã€‚ä¸ªäººè®°å¿†æ˜¯å…³äºâ€œå‘ç”Ÿäº†ä»€ä¹ˆâ€æˆ–â€œå°†è¦å‘ç”Ÿä»€ä¹ˆâ€çš„æè¿°ï¼Œä¸æ¶‰åŠç”¨æˆ·å¯¹è¿™äº›äº‹ä»¶çš„ä¸»è§‚è¯„ä»·æˆ–åå¥½ã€‚äº‹å®ä¸­å·²æœ‰çš„å†…å®¹ï¼Œè¯·ä¸è¦åŠ å…¥åˆ°ä¸ªäººè®°å¿†ã€‚æè¿°ä¸­è¯·åŠ å…¥æ¶‰åŠåˆ°çš„äººç‰©å§“åå’Œç»å¯¹æ—¶é—´ã€‚

            è¾¹ç•Œï¼šä¸ªäººè®°å¿†ä¸åŒ…å«ç”¨æˆ·å¯¹äº‹ä»¶çš„ä¸ªäººè¯„ä»·ã€æ„¿æœ›æˆ–åå¥½ã€‚å®ƒä¸“æ³¨äºæè¿°äº‹ä»¶æœ¬èº«ï¼Œè€Œä¸æ˜¯ç”¨æˆ·å¯¹äº‹ç‰©çš„ä¸»è§‚è¯„ä»·å’Œé€‰æ‹©ã€‚

            äº’æ–¥ï¼šä¸ªäººè®°å¿†ä¸ä¸ªäººåå¥½ä¸åŒï¼Œå› ä¸ºä¸ªäººè®°å¿†å…³æ³¨çš„æ˜¯äº‹ä»¶çš„äº‹å®æ€§æè¿°ï¼Œè€Œä¸ªäººåå¥½å…³æ³¨çš„æ˜¯ç”¨æˆ·å¯¹è¿™äº›äº‹ä»¶çš„ä¸»è§‚æ€åº¦å’Œé€‰æ‹©ã€‚


            - å¥½å‹è®°å¿†å®šä¹‰ï¼šæŒ‡ç”¨æˆ·ä¸ç‰¹å®šå¥½å‹å…±åŒç»å†çš„äº‹ä»¶ã€æ´»åŠ¨æˆ–æƒ…å¢ƒçš„ä¸»è§‚å›é¡¾ã€‚è¿™äº›è®°å¿†æ¶‰åŠç”¨æˆ·ä¸å¥½å‹ä¹‹é—´çš„äº’åŠ¨å’Œå…±åŒç»å†ï¼ŒåŒ…æ‹¬ç”¨æˆ·å’Œå¥½å‹åœ¨äº‹ä»¶ä¸­çš„è§’è‰²ã€è¡ŒåŠ¨å’Œæ„Ÿå—ã€‚å¥½å‹è®°å¿†æ˜¯å…³äºâ€œä¸å¥½å‹ä¸€èµ·å‘ç”Ÿäº†ä»€ä¹ˆâ€çš„æè¿°ï¼Œä¸æ¶‰åŠç”¨æˆ·å¯¹è¿™äº›äº‹ä»¶çš„ä¸»è§‚è¯„ä»·æˆ–åå¥½ã€‚äº‹å®ä¸­å·²æœ‰çš„å†…å®¹ï¼Œè¯·ä¸è¦åŠ å…¥åˆ°å¥½å‹è®°å¿†ã€‚æè¿°ä¸­è¯·åŠ å…¥æ¶‰åŠåˆ°çš„äººç‰©å§“åå’Œç»å¯¹æ—¶é—´ã€‚

            è¾¹ç•Œï¼šå¥½å‹è®°å¿†ä¸åŒ…å«ç”¨æˆ·å¯¹äº‹ä»¶çš„ä¸ªäººè¯„ä»·ã€æ„¿æœ›æˆ–åå¥½ã€‚å®ƒä¸“æ³¨äºæè¿°ä¸å¥½å‹å…±åŒå‚ä¸çš„äº‹ä»¶æœ¬èº«ï¼Œè€Œä¸æ˜¯ç”¨æˆ·å¯¹äº‹ç‰©çš„ä¸»è§‚è¯„ä»·å’Œé€‰æ‹©ã€‚

            äº’æ–¥ï¼šå¥½å‹è®°å¿†ä¸å¥½å‹åå¥½ä¸åŒï¼Œå› ä¸ºå¥½å‹è®°å¿†å…³æ³¨çš„æ˜¯ä¸å¥½å‹å…±åŒç»å†çš„äº‹ä»¶çš„äº‹å®æ€§æè¿°ï¼Œè€Œå¥½å‹åå¥½å…³æ³¨çš„æ˜¯ç”¨æˆ·å¯¹è¿™äº›äº‹ä»¶çš„ä¸»è§‚æ€åº¦å’Œé€‰æ‹©ã€‚


            - ä¸ªäººåå¥½å®šä¹‰ï¼šæ˜¯æŒ‡ç”¨æˆ·åœ¨ç‰¹å®šäº‹ç‰©ã€æ´»åŠ¨æˆ–ä¿¡æ¯ä¸Šçš„ä¸ªäººå–œå¥½æˆ–å€¾å‘ã€‚è¿™äº›åå¥½åæ˜ äº†ç”¨æˆ·å¯¹æŸäº›äº‹ç‰©çš„ä¸»è§‚è¯„ä»·å’Œé€‰æ‹©ï¼Œå¯èƒ½å½±å“ç”¨æˆ·çš„è¡Œä¸ºå’Œå†³ç­–ã€‚ä¸ªäººåå¥½æ˜¯å…³äºâ€œç”¨æˆ·æƒ³è¦ä»€ä¹ˆâ€æˆ–â€œç”¨æˆ·è®¤ä¸ºåº”è¯¥æ€æ ·â€çš„æè¿°ï¼Œæ¶‰åŠç”¨æˆ·çš„ä¸»è§‚æ„¿æœ›å’Œå€¾å‘ã€‚æè¿°ä¸­è¯·åŠ å…¥æ¶‰åŠåˆ°çš„äººç‰©å§“åå’Œç»å¯¹æ—¶é—´ã€‚

            è¾¹ç•Œï¼šä¸ªäººåå¥½ä¸åŒ…å«å®¢è§‚äº‹å®çš„æè¿°ï¼Œè€Œæ˜¯ç”¨æˆ·åŸºäºä¸ªäººä»·å€¼è§‚ã€ç»éªŒå’Œæƒ…æ„Ÿå¯¹äº‹ç‰©çš„è¯„ä»·å’Œé€‰æ‹©ã€‚

            äº’æ–¥ï¼šä¸ªäººåå¥½ä¸ä¸ªäººè®°å¿†ä¸åŒï¼Œå› ä¸ºä¸ªäººåå¥½æ˜¯ç”¨æˆ·å¯¹äº‹ç‰©çš„ä¸»è§‚è¯„ä»·å’Œé€‰æ‹©ï¼Œè€Œä¸ªäººè®°å¿†æ˜¯å…³äºäº‹ä»¶çš„äº‹å®æ€§æè¿°ã€‚


            - å¥½å‹åå¥½å®šä¹‰ï¼šæ˜¯æŒ‡ç”¨æˆ·å¯¹ç‰¹å®šå¥½å‹åœ¨æŸäº›äº‹ç‰©ã€æ´»åŠ¨æˆ–ä¿¡æ¯ä¸Šçš„ä¸ªäººå–œå¥½æˆ–å€¾å‘ã€‚è¿™äº›åå¥½åæ˜ äº†ç”¨æˆ·å¯¹å¥½å‹çš„ä¸»è§‚è¯„ä»·å’Œé€‰æ‹©ï¼Œå¯èƒ½å½±å“ç”¨æˆ·ä¸å¥½å‹çš„äº’åŠ¨å’Œå†³ç­–ã€‚å¥½å‹åå¥½æ˜¯å…³äºâ€œç”¨æˆ·å¸Œæœ›ä¸å¥½å‹ä¸€èµ·åšä»€ä¹ˆâ€æˆ–â€œç”¨æˆ·è®¤ä¸ºåº”è¯¥æ€æ ·ä¸å¥½å‹äº’åŠ¨â€çš„æè¿°ï¼Œæ¶‰åŠç”¨æˆ·çš„ä¸»è§‚æ„¿æœ›å’Œå€¾å‘ã€‚æè¿°ä¸­è¯·åŠ å…¥æ¶‰åŠåˆ°çš„äººç‰©å§“åå’Œç»å¯¹æ—¶é—´ã€‚

            è¾¹ç•Œï¼šå¥½å‹åå¥½ä¸åŒ…å«å®¢è§‚äº‹å®çš„æè¿°ï¼Œè€Œæ˜¯ç”¨æˆ·åŸºäºä¸ªäººä»·å€¼è§‚ã€ç»éªŒå’Œæƒ…æ„Ÿå¯¹ä¸å¥½å‹ç›¸å…³çš„äº‹ç‰©çš„è¯„ä»·å’Œé€‰æ‹©ã€‚

            äº’æ–¥ï¼šå¥½å‹åå¥½ä¸å¥½å‹è®°å¿†ä¸åŒï¼Œå› ä¸ºå¥½å‹åå¥½æ˜¯ç”¨æˆ·å¯¹ä¸å¥½å‹ç›¸å…³äº‹ç‰©çš„ä¸»è§‚è¯„ä»·å’Œé€‰æ‹©ï¼Œè€Œå¥½å‹è®°å¿†æ˜¯å…³äºä¸å¥½å‹å…±åŒç»å†çš„äº‹ä»¶çš„äº‹å®æ€§æè¿°ã€‚


            æ¨æ–­çš„ç±»å‹ã€äº‹å®ã€ä¸ªäººè®°å¿†ã€å¥½å‹è®°å¿†ã€ä¸ªäººåå¥½ã€å¥½å‹åå¥½è¯·æŒ‰ç…§ä»¥ä¸‹è¾“å‡ºæ ¼å¼è¿›è¡Œå¯¹å†…å®¹çš„æ ¼å¼åŒ–å¹¶è¾“å‡ºï¼š

            ç±»å‹ï¼šï¼›

            äº‹å®ï¼šï¼›

            ä¸ªäººè®°å¿†ï¼šï¼›

            å¥½å‹è®°å¿†ï¼šï¼›

            ä¸ªäººåå¥½ï¼šï¼›

            å¥½å‹åå¥½ï¼šã€‚

            '
        selected: false
        title: LLM 11
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 142
      id: '1732612417468'
      position:
        x: 4234.228939650003
        y: -126.7174248054846
      positionAbsolute:
        x: 4234.228939650003
        y: -126.7174248054846
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '<ä»¥ä¸‹å†…å®¹å·²å†™å…¥ä¸ªäººè®°å¿†>

          {{#1732612417468.text#}}

          '
        desc: ''
        selected: false
        title: <ä»¥ä¸‹å†…å®¹å·²å†™å…¥è®°å¿†>
        type: answer
        variables: []
      height: 119
      id: '17326910143220'
      position:
        x: 4601.05526342692
        y: -225.53089724943166
      positionAbsolute:
        x: 4601.05526342692
        y: -225.53089724943166
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: time
        provider_name: time
        provider_type: builtin
        selected: false
        title: è·å–å½“å‰æ—¶é—´-ä»–äºº
        tool_configurations:
          format: '%Y-%m-%d %H:%M:%S'
          timezone: UTC
        tool_label: è·å–å½“å‰æ—¶é—´
        tool_name: current_time
        tool_parameters: {}
        type: tool
      height: 116
      id: '1732780957043'
      position:
        x: 588.3671144088897
        y: 941.8914328107919
      positionAbsolute:
        x: 588.3671144088897
        y: 941.8914328107919
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ç”¨æˆ·å›å¤å†…å®¹è½¬æ¢ï¼Œæ—¶é—´äººç§°æ ¼å¼åŒ–
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: f11c1f91-3396-4514-b6c1-fb6a2adf1c2a
          role: system
          text: "ç”¨æˆ·é—®é¢˜ï¼š{{#context#}}\n\nå½“å‰æ—¶é—´ï¼š{{#1732780957043.text#}}\nå½“å‰ç”¨æˆ·ï¼š{{#1721225709284.user_name#}}\n\
            ä½ çš„åå­—ï¼š{{#env.agent_name#}}\n\nå¤„ç†æ­¥éª¤ï¼š\nå¤„ç†æ­¥éª¤ï¼š\n1. æ—¶é—´è½¬æ¢ï¼š\n   1.1. è·å–å½“å‰æ—¶é—´æˆ³ï¼š{{#1732780957043.text#}}ã€‚æ¨æµ‹å‡ºå½“å¤©æ˜¯æ˜ŸæœŸå‡ ï¼Œä»¥åŠæœ¬å‘¨çš„ç»å¯¹æ—¶é—´æˆ³ã€‚\n\
            \   1.2. è§£æç”¨æˆ·é—®é¢˜ä¸­çš„ç›¸å¯¹æ—¶é—´è¡¨è¾¾ï¼ˆä¾‹å¦‚â€œä»Šå¤©â€ã€â€œæ˜å¤©â€ã€â€œä¸‹å‘¨â€ã€â€œä¸‰å¤©åâ€ã€â€œæœ¬å‘¨â€ï¼Œâ€œè¿‡å»â€ï¼Œâ€œæœªæ¥â€ï¼Œâ€œç°åœ¨â€ç­‰ï¼‰ã€‚\n\
            \   1.3. å°†ç›¸å¯¹æ—¶é—´è½¬æ¢ä¸ºåŸºäºå½“å‰æ—¶é—´æˆ³çš„ç»å¯¹æ—¶é—´ï¼Œå¹¶ç¡®ä¿æ—¶é—´æ ¼å¼æ¸…æ™°ä¸”å‡†ç¡®ã€‚ï¼ˆä¾‹å¦‚ï¼šâ€œæœ¬å‘¨â€ æ›¿æ¢æˆ â€œyyyyå¹´mmæœˆddæ—¥åˆ°yyyyå¹´mmæœˆddæ—¥â€ï¼›ä»Šå¤©æ›¿æ¢æˆå½“å‰æ—¶é—´æˆ³çš„æ—¥æœŸï¼›â€œè¿‡å»â€æ›¿æ¢æˆå½“å‰æ—¶é—´æˆ³ä¹‹å‰ï¼Œâ€œæœªæ¥â€æ›¿æ¢æˆå½“å‰æ—¶é—´æˆ³ä¹‹åï¼Œâ€œç°åœ¨â€æ›¿æ¢æˆå½“å‰æ—¶é—´æˆ³ã€‚ï¼‰\n\
            \n2. äººç§°è½¬æ¢ï¼š\n   2.1. ç¡®è®¤å½“å‰å¯¹è¯çš„ç”¨æˆ·æ˜¯{{#1721225709284.user_name#}}ã€‚\n   2.2.\
            \ è§£æç”¨æˆ·é—®é¢˜ä¸­çš„äººç§°è¡¨è¾¾ï¼ˆä¾‹å¦‚â€œæˆ‘â€ã€â€œä½ â€æˆ–å…¶ä»–ç¬¬ä¸‰äººç§°ï¼‰ã€‚\n   2.3. å°†ç”¨æˆ·äººç§°è¡¨è¾¾è½¬æ¢æˆå¯¹åº”çš„åå­—ã€‚ï¼ˆä¾‹å¦‚â€œæˆ‘ä»¬â€é‚£ä¹ˆéœ€è¦æ¢æˆâ€œ{{#1721225709284.user_name#}}å’Œ{{#env.agent_name#}}â€ï¼Œâ€œæˆ‘â€æ›¿æ¢æˆâ€œ{{#1721225709284.user_name#}}â€ï¼‰\n\
            \nè¾“å‡ºï¼š\nä¿æŒç”¨æˆ·é—®é¢˜çš„é£æ ¼å’Œè¯­æ°”ï¼Œå°†é—®é¢˜åŸæ–‡çš„ç›¸å¯¹æ—¶é—´è¡¨è¾¾æ›¿æ¢æˆç»å¯¹æ—¶é—´è¡¨è¾¾ï¼Œå°†äººç§°è½¬æ¢æˆå§“åï¼Œè¾“å‡ºã€‚\n\n"
        selected: false
        title: LLM-æ—¶é—´äººç§°è½¬æ¢-ä»–äºº
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 126
      id: '1732783190572'
      position:
        x: 894.3653661143765
        y: 964.085721204025
      positionAbsolute:
        x: 894.3653661143765
        y: 964.085721204025
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: time
        provider_name: time
        provider_type: builtin
        selected: false
        title: è·å–å½“å‰æ—¶é—´-è‡ªå·±
        tool_configurations:
          format: '%Y-%m-%d %H:%M:%S'
          timezone: UTC
        tool_label: è·å–å½“å‰æ—¶é—´
        tool_name: current_time
        tool_parameters: {}
        type: tool
      height: 116
      id: '17332885803860'
      position:
        x: 2253.493592455464
        y: 64.0859912262429
      positionAbsolute:
        x: 2253.493592455464
        y: 64.0859912262429
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ç”¨æˆ·å›å¤å†…å®¹è½¬æ¢ï¼Œæ—¶é—´äººç§°æ ¼å¼åŒ–
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-2024-11-20
          provider: openai
        prompt_template:
        - id: f11c1f91-3396-4514-b6c1-fb6a2adf1c2a
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªå†…å®¹è½¬æ¢ä¸“å®¶ï¼Œç›®æ ‡æ˜¯æ‰¾åˆ°ç”¨æˆ·æè¿°ä¸­çš„ç›¸å¯¹æ—¶é—´å’Œäººç§°ï¼Œå°†å®ƒä»¬è½¬æ¢æˆç»å¯¹æ—¶é—´å’Œäººç‰©å§“åï¼Œæœ€ç»ˆè¾“å‡ºè½¬æ¢åçš„å†…å®¹ã€‚


            ç”¨æˆ·æè¿°ï¼š{{#context#}}

            å½“å‰æ—¶é—´ï¼š{{#17332885803860.text#}}

            å½“å‰ç”¨æˆ·ï¼š{{#1721225709284.user_name#}}

            ä½ æ˜¯å½“å‰ç”¨æˆ·çš„AIæ™ºèƒ½ä½“åˆ†èº«ï¼š{{#env.agent_name#}}


            å¤„ç†æ­¥éª¤ï¼š

            1. äººç§°è½¬æ¢ï¼š

            ç¡®è®¤å½“å‰å¯¹è¯çš„ç”¨æˆ·æ˜¯{{#1721225709284.user_name#}}ã€‚

            è§£æé—®é¢˜ä¸­çš„äººç§°è¡¨è¾¾ï¼ˆä¾‹å¦‚â€œæˆ‘â€ã€â€œä½ â€æˆ–å…¶ä»–ç¬¬ä¸‰äººç§°ï¼‰ã€‚

            å°†ç”¨æˆ·äººç§°è¡¨è¾¾è½¬æ¢æˆå¯¹åº”çš„åå­—ã€‚ï¼ˆä¾‹å¦‚â€œæˆ‘å’ŒXXâ€é‚£ä¹ˆéœ€è¦æ¢æˆâ€œ{{#1721225709284.user_name#}}å’ŒXXâ€ï¼Œâ€œæˆ‘â€æ›¿æ¢æˆâ€œ{{#1721225709284.user_name#}}â€ï¼‰


            2. æ—¶é—´è½¬æ¢ï¼š

            è·å–å½“å‰æ—¶é—´æˆ³ï¼š{{#17332885803860.text#}}ã€‚æ¨æµ‹å‡ºæœ¬å‘¨ã€ä¸Šå‘¨ã€ä¸‹å‘¨ç­‰ç­‰çš„å¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸã€‚

            è§£æç”¨æˆ·æè¿°ä¸­çš„ç›¸å¯¹æ—¶é—´è¡¨è¾¾ï¼ˆä¾‹å¦‚â€œæ˜å¤©â€ã€â€œä¸‹å‘¨â€ã€â€œä¸‰å¤©åâ€ã€â€œæœ¬å‘¨â€ç­‰ï¼‰ã€‚

            å°†ç›¸å¯¹æ—¶é—´è½¬æ¢ä¸ºåŸºäºå½“å‰æ—¶é—´æˆ³çš„ç»å¯¹æ—¶é—´ï¼Œå¹¶ç¡®ä¿æ—¶é—´æ ¼å¼æ¸…æ™°ä¸”å‡†ç¡®ã€‚ï¼ˆä¾‹å¦‚ï¼šâ€œæœ¬å‘¨â€ æ›¿æ¢æˆ â€œyyyyå¹´mmæœˆddæ—¥åˆ°yyyyå¹´mmæœˆddæ—¥â€ï¼Œâ€œä»Šå¤©â€æ›¿æ¢æˆå½“å‰æ—¶é—´ã€‚ï¼‰


            3.å¦‚æœ1å’Œ2éƒ½æ²¡æœ‰è½¬æ¢çš„å†…å®¹ï¼Œç›´æ¥è¾“å‡ºåŸæ–‡ã€‚


            è¾“å‡ºï¼š

            å°†äººç§°å’Œç›¸å¯¹æ—¶é—´è¡¨è¾¾ç»è¿‡å¤„ç†æ­¥éª¤åï¼Œå°†è½¬æ¢åçš„å†…å®¹å®¹ä¸€è‡´è¾“å‡ºï¼Œç»´æŒåŸæ–‡é£æ ¼ã€‚'
        selected: false
        title: LLM 12-æ—¶é—´äººç§°è½¬æ¢-è‡ªå·±
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 126
      id: '17332885923350'
      position:
        x: 2553.520503110222
        y: 64.0859912262429
      positionAbsolute:
        x: 2553.520503110222
        y: 64.0859912262429
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: mem0ai
        provider_name: mem0ai
        provider_type: builtin
        selected: false
        title: å†™å…¥/æ›´æ–°ä¸ªäººè®°å¿†
        tool_configurations: {}
        tool_label: å†™å…¥è®°å¿†
        tool_name: add_mem0ai_memory
        tool_parameters:
          agent_id:
            type: mixed
            value: '{{#env.agent_name#}}_ai'
          data:
            type: mixed
            value: '{{#1732612417468.text#}}'
          run_id:
            type: mixed
            value: '{{#sys.conversation_id#}}'
          user_id:
            type: mixed
            value: '{{#env.agent_name#}}'
        type: tool
      height: 54
      id: '17332963447080'
      position:
        x: 4590.499200140737
        y: -48.22490926696392
      positionAbsolute:
        x: 4590.499200140737
        y: -48.22490926696392
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: e3b66fc4-8181-480f-9f3d-7f7a27799221
          role: system
          text: 'ä½ æ˜¯ç”¨æˆ· {{#1721225709284.user_name#}}çš„ä¸“å±AIæ™ºèƒ½ä½“åˆ†èº«ï¼Œä½ çš„åå­—æ˜¯{{#env.agent_name#}}ï¼Œä½ æœ‰å°†è¢«èµ‹äºˆç”¨æˆ·çš„{{#1721225709284.user_name#}}çš„è®°å¿†ã€æƒ…æ„Ÿã€å–œå¥½ã€‚

            ä½ çš„å›å¤é£æ ¼æ˜¯ï¼š{{#17349421250440.text#}}

            ä½ å¯ä»¥åšåˆ°ï¼šè®°å½•ç”¨æˆ·éœ€è¦çš„æ‰€æœ‰è®°å¿†ï¼Œåœ¨ç”¨æˆ·éœ€è¦æ—¶å°†è®°å¿†å›å¤ç»™ç”¨æˆ·ï¼Œå¹¶å¯ä»¥å°†è¿™äº›è®°å¿†ä¼ åœ¨ä½ çš„å¥½å‹éœ€è¦æ—¶ä¼ é€’å‡ºå»ã€‚

            ç›®å‰ä½ ä¸å¯ä»¥åšåˆ°ï¼šå’Œç”¨æˆ·é—²èŠï¼Œè®¨è®ºè¯é¢˜ã€‚

            ç»“åˆå›å¤é£æ ¼ï¼Œè¯·ç»™ä½ çš„åˆ›å»ºè€…{{#1721225709284.user_name#}}ä¸€ä¸ªéå¸¸ç®€å•çš„åŒ…æ‹¬äººæ ¼/å›å¤é£æ ¼è¯´æ˜çš„è‡ªæˆ‘ä»‹ç»ï¼Œä½ èƒ½åšä»€ä¹ˆå’Œåšä¸åˆ°ä»€ä¹ˆã€‚'
        selected: false
        title: LLM-è‡ªæˆ‘ä»‹ç»-æœ‰äººæ ¼
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 98
      id: '17339752357050'
      position:
        x: 2837.701937653081
        y: 256.9436609500606
      positionAbsolute:
        x: 2837.701937653081
        y: 256.9436609500606
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '<åˆ†èº«å·²æœ‰äººæ ¼ï¼Œæš‚æ—¶ä¸æ”¯æŒé‡æ–°è®¾å®š>

          {{#17339752357050.text#}}

          '
        desc: ''
        selected: false
        title: <å·²æœ‰åˆ†èº«äººæ ¼>
        type: answer
        variables: []
      height: 119
      id: '17345135774110'
      position:
        x: 3369.7806037394016
        y: 212.96201391921272
      positionAbsolute:
        x: 3369.7806037394016
        y: 212.96201391921272
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: e3b66fc4-8181-480f-9f3d-7f7a27799221
          role: system
          text: 'ä½ æ˜¯ç”¨æˆ· {{#1721225709284.user_name#}}çš„ä¸“å±AIæ™ºèƒ½ä½“åˆ†èº«ï¼Œä½ çš„åå­—æ˜¯{{#env.agent_name#}}ï¼Œä½ æœ‰å°†è¢«èµ‹äºˆç”¨æˆ·çš„{{#1721225709284.user_name#}}çš„è®°å¿†ã€æƒ…æ„Ÿã€å–œå¥½ã€‚

            ç°åœ¨ä½ è¿˜æ²¡æœ‰äººæ ¼ã€æ€§æ ¼ã€å›å¤é£æ ¼ã€‚

            ä½ å¯ä»¥åšåˆ°ï¼šè®°å½•ç”¨æˆ·éœ€è¦çš„æ‰€æœ‰è®°å¿†ï¼Œåœ¨ç”¨æˆ·éœ€è¦æ—¶å°†è®°å¿†å›å¤ç»™ç”¨æˆ·ï¼Œå¹¶å¯ä»¥å°†è¿™äº›è®°å¿†ä¼ åœ¨ä½ çš„å¥½å‹éœ€è¦æ—¶ä¼ é€’å‡ºå»ã€‚

            ç›®å‰ä½ ä¸å¯ä»¥åšåˆ°ï¼šå’Œç”¨æˆ·é—²èŠï¼Œè®¨è®ºè¯é¢˜ã€‚

            è¯·æ£€æŸ¥ç”¨æˆ·çš„æé—®ï¼šâ€œ{{#sys.query#}}â€ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦ä»‹ç»ä½ è‡ªå·±ï¼Œå¦‚æœéœ€è¦ï¼Œè¯·ç»™ä½ çš„åˆ›å»ºè€…{{#1721225709284.user_name#}}ä¸€ä¸ªéå¸¸ç®€å•çš„åŒ…æ‹¬è‡ªæˆ‘ä»‹ç»ï¼Œå¹¶ä¸”å¼•å¯¼TAå¼€å§‹è®¾å®šä½ çš„äººæ ¼ã€‚å¦‚æœä¸éœ€è¦ï¼Œè¾“å‡ºç©ºã€‚'
        selected: false
        title: LLM-è‡ªæˆ‘ä»‹ç»-æ— äººæ ¼
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 98
      id: '17345136611940'
      position:
        x: 2861.953402717247
        y: 449.8518871557297
      positionAbsolute:
        x: 2861.953402717247
        y: 449.8518871557297
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: social_agent
        provider_name: social_agent
        provider_type: builtin
        selected: false
        title: æŸ¥çœ‹ä¸ªæ€§å·¥å…·-ä»–äºº
        tool_configurations: {}
        tool_label: æŸ¥çœ‹ä¸ªæ€§å·¥å…·
        tool_name: view_persona_tool
        tool_parameters:
          app_id:
            type: mixed
            value: '{{#sys.app_id#}}'
        type: tool
      height: 54
      id: '1734941912596'
      position:
        x: 664.1673899992928
        y: 1225.0091636187421
      positionAbsolute:
        x: 664.1673899992928
        y: 1225.0091636187421
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: social_agent
        provider_name: social_agent
        provider_type: builtin
        selected: false
        title: æŸ¥çœ‹å·²å›ç­”é—®é¢˜å·¥å…·
        tool_configurations: {}
        tool_label: æŸ¥çœ‹å·²å›ç­”é—®é¢˜å·¥å…·
        tool_name: manage_answered_questions_tool
        tool_parameters:
          app_id:
            type: mixed
            value: '{{#sys.app_id#}}'
        type: tool
      height: 54
      id: '1734942005208'
      position:
        x: 620.1673899992927
        y: 285.7422757137581
      positionAbsolute:
        x: 620.1673899992927
        y: 285.7422757137581
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: social_agent
        provider_name: social_agent
        provider_type: builtin
        selected: false
        title: æ›´æ–°å·²å›ç­”é—®é¢˜å·¥å…·
        tool_configurations: {}
        tool_label: æ›´æ–°å·²å›ç­”é—®é¢˜å·¥å…·
        tool_name: update_answered_questions_tool
        tool_parameters:
          app_id:
            type: mixed
            value: '{{#sys.app_id#}}'
          conversation_id:
            type: mixed
            value: '{{#sys.conversation_id#}}'
        type: tool
      height: 54
      id: '1734942055590'
      position:
        x: 294.1673899992933
        y: 285.7422757137581
      positionAbsolute:
        x: 294.1673899992933
        y: 285.7422757137581
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(data: dict) -> dict:\n    if data[0][\"answered_questions\"\
          ]:\n        answered_questions = [f\"é—®é¢˜ï¼š{item['question']}ç”¨æˆ·å›ç­”ï¼š{item['answer']}\"\
          \ for item in data[0][\"answered_questions\"]]\n    else:\n        answered_questions\
          \ = []\n    return {\n        \"completed_questions\": data[0][\"completed_questions\"\
          ],\n        \"incomplete_questions\": data[0][\"incomplete_questions\"],\n\
          \        \"incomplete_questions_string\": \"\\n\".join(data[0][\"incomplete_questions\"\
          ]),\n        \"answered_questions\": answered_questions,\n        \"all_completed\"\
          : int(data[0][\"all_completed\"]),\n    }"
        code_language: python3
        desc: ''
        outputs:
          all_completed:
            children: null
            type: number
          answered_questions:
            children: null
            type: array[string]
          completed_questions:
            children: null
            type: array[string]
          incomplete_questions:
            children: null
            type: array[string]
          incomplete_questions_string:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 4
        type: code
        variables:
        - value_selector:
          - '1734942005208'
          - json
          variable: data
      height: 54
      id: '1734942075679'
      position:
        x: 937.3012135023691
        y: 285.7422757137581
      positionAbsolute:
        x: 937.3012135023691
        y: 285.7422757137581
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: social_agent
        provider_name: social_agent
        provider_type: builtin
        selected: false
        title: æŸ¥çœ‹ä¸ªæ€§å·¥å…·-è‡ªå·±
        tool_configurations: {}
        tool_label: æŸ¥çœ‹ä¸ªæ€§å·¥å…·
        tool_name: view_persona_tool
        tool_parameters:
          app_id:
            type: mixed
            value: '{{#sys.app_id#}}'
        type: tool
      height: 54
      id: '17349421250440'
      position:
        x: 642.5840128349222
        y: 460.4619031213025
      positionAbsolute:
        x: 642.5840128349222
        y: 460.4619031213025
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not empty
            id: f7260ece-70da-48aa-bec6-7dc7cc4f0ad8
            value: ''
            varType: string
            variable_selector:
            - '17349421250440'
            - text
          id: 'true'
          logical_operator: and
        - case_id: 29d8b184-73e6-47d0-9ff5-adf6022cc8a4
          conditions:
          - comparison_operator: '='
            id: 4f6e06c4-b4b2-4ba1-8f4b-7fba9abe1596
            value: '0'
            varType: number
            variable_selector:
            - '1734942075679'
            - all_completed
          - comparison_operator: empty
            id: f66374d1-2efe-4d57-ad8b-45c3b1060f7e
            value: ''
            varType: string
            variable_selector:
            - '17349421250440'
            - text
          id: 29d8b184-73e6-47d0-9ff5-adf6022cc8a4
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 5
        type: if-else
      height: 200
      id: '1734942286688'
      position:
        x: 2342.199193719861
        y: 440.7575877566673
      positionAbsolute:
        x: 2342.199193719861
        y: 440.7575877566673
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: openai
        parameters:
        - description: ä¸ªæ€§ç‰¹å¾
          name: personality
          required: false
          type: string
        query:
        - '17304559333070'
        - text
        reasoning_mode: prompt
        selected: false
        title: å‚æ•°æå–å™¨
        type: parameter-extractor
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1734944137110'
      position:
        x: 3289.5378266972434
        y: 843.2264394421314
      positionAbsolute:
        x: 3289.5378266972434
        y: 843.2264394421314
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: social_agent
        provider_name: social_agent
        provider_type: builtin
        selected: false
        title: è¦†ç›–äººè®¾å·¥å…·
        tool_configurations: {}
        tool_label: è¦†ç›–äººè®¾å·¥å…·
        tool_name: override_persona_tool
        tool_parameters:
          app_id:
            type: mixed
            value: '{{#sys.app_id#}}'
          personality:
            type: mixed
            value: '{{#1734944137110.personality#}}'
        type: tool
      height: 54
      id: '1734944223000'
      position:
        x: 3732.720770852367
        y: 843.2264394421314
      positionAbsolute:
        x: 3732.720770852367
        y: 843.2264394421314
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: lumia.liu
        desc: ''
        height: 295
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"æ‚¨çš„ä»»åŠ¡æ˜¯ä½œä¸ºä¸€ä½å¯¹æ¯”ä¸“å®¶ï¼Œæ¥æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç»å›ç­”äº†æ‰€æœ‰æœªå›ç­”çš„é—®é¢˜ã€‚è¯·æ ¹æ®ä»¥ä¸‹æ­¥éª¤å®ŒæˆæŒ‡å®šçš„ä»»åŠ¡ï¼š\\n\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"1.
          ä»æä¾›çš„å¯¹è¯å†å²ä¸­æå–ç”¨æˆ·é’ˆå¯¹é—®é¢˜åˆ—è¡¨ä¸­çš„é—®é¢˜çš„å›ç­”ã€‚\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"2.
          æ£€æŸ¥ç”¨æˆ·å›ç­”çš„é—®é¢˜æ˜¯å¦ä¸é—®é¢˜åˆ—è¡¨ä¸­çš„é—®é¢˜ç›¸åŒ¹é…ã€‚\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"3.
          å¯¹äºæ¯ä¸ªåŒ¹é…çš„é—®é¢˜ï¼Œæ•´ç†å‡ºé—®é¢˜åŠå…¶å¯¹åº”çš„ç”¨æˆ·å›ç­”ã€‚\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"4.
          ç¡®ä¿æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºæ¯ä¸ªå·²å›ç­”çš„é—®é¢˜å’Œå¯¹åº”çš„å›ç­”ï¼Œå¤šä¸ªå·²å›ç­”é—®é¢˜éœ€è¦æ¢è¡Œï¼Œå¦‚ï¼š\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"   é—®é¢˜ï¼šxxx\\nç”¨æˆ·å›ç­”ï¼šxxx\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"5.
          å¦‚æœç”¨æˆ·æ²¡æœ‰å›ç­”ä»»ä½•é—®é¢˜ï¼Œç›´æ¥è¾“å‡ºâ€œç”¨æˆ·æ²¡æœ‰å›ç­”ä»»ä½•é—®é¢˜â€ã€‚\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"6.
          åœ¨è¾“å‡ºæ—¶ï¼Œç¡®ä¿ä¸è¦åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚\\n\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"f\"å¯¹è¯å†å²ï¼š\\n{histories}\\n\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"é—®é¢˜åˆ—è¡¨ï¼š\\n\"
          + \"\\n\".join(unanswered_questions)","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 502
      height: 295
      id: '1734945257806'
      position:
        x: 294.1673899992933
        y: -29.3379984440364
      positionAbsolute:
        x: 294.1673899992933
        y: -29.3379984440364
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 502
    - data:
        author: lumia.liu
        desc: ''
        height: 88
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"font-size:
          14px;","text":"åˆ¤æ–­æ‰€æœ‰é¢˜ç›®æ˜¯å¦å®Œæˆ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 88
      id: '1734945504797'
      position:
        x: 937.3012135023691
        y: 171.46389587972925
      positionAbsolute:
        x: 937.3012135023691
        y: 171.46389587972925
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    - data:
        desc: ''
        items:
        - input_type: constant
          operation: set
          value: memory
          variable_selector:
          - conversation
          - user_intent_type
          write_mode: over-write
        selected: false
        title: å˜é‡èµ‹å€¼
        type: assigner
        version: '2'
      height: 88
      id: '1735054475056'
      position:
        x: 1953.4935924554638
        y: 64.0859912262429
      positionAbsolute:
        x: 1953.4935924554638
        y: 64.0859912262429
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: constant
          operation: set
          value: personality
          variable_selector:
          - conversation
          - user_intent_type
          write_mode: over-write
        selected: false
        title: å˜é‡èµ‹å€¼ 2
        type: assigner
        version: '2'
      height: 88
      id: '1735054515541'
      position:
        x: 1917.2084492438566
        y: 299.2844955525087
      positionAbsolute:
        x: 1917.2084492438566
        y: 299.2844955525087
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: e82ba199-3009-4608-9b7f-a60992cb6723
            value: memory
            varType: string
            variable_selector:
            - conversation
            - user_intent_type
          id: 'true'
          logical_operator: and
        - case_id: 694853c0-9fc6-4efa-a97c-00493e0adada
          conditions:
          - comparison_operator: is
            id: fe4a2e0d-c1bf-45fe-8a50-30d2204574da
            value: personality
            varType: string
            variable_selector:
            - conversation
            - user_intent_type
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 5
        type: if-else
      height: 174
      id: '1735054574123'
      position:
        x: 1930.3653697150153
        y: 531.5398593217756
      positionAbsolute:
        x: 1930.3653697150153
        y: 531.5398593217756
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: 857316974@qq.com
        desc: ''
        height: 381
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"æˆ‘ä»¬éœ€è¦æ ¹æ®ä»¥ä¸‹ä¿¡æ¯ç”Ÿæˆä¸€ä¸ªæ›´æ–°åçš„ä¸ªæ€§æè¿°ã€‚\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"è¯·å……åˆ†å‚è€ƒå¯¹è¯å†å²å’Œç”¨æˆ·çš„å›ç­”åˆ—è¡¨ï¼Œä»ä¸­æç‚¼ç”¨æˆ·çš„æ²Ÿé€šé£æ ¼ã€è¡¨è¾¾æ–¹å¼ã€\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"åå¥½ã€ä»·å€¼è§‚ï¼Œä»¥åŠå…¶ä»–èƒ½å¤Ÿåæ˜ å…¶ä¸ªæ€§çš„ç‰¹ç‚¹ã€‚\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"è¯·ç¡®ä¿ç”Ÿæˆçš„ä¸ªæ€§æè¿°å…¨é¢ã€è‡ªç„¶ã€å…·ä½“ï¼ŒåŒæ—¶çªå‡ºç”¨æˆ·çš„ç‹¬ç‰¹ä¹‹å¤„ã€‚\\n\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"###
          å¯¹è¯å†å²ï¼š\\n\" +","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"\\n\".join(histories)
          +","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"\\n\\n###
          å·²å›ç­”çš„é—®é¢˜åˆ—è¡¨ï¼š\\n\" +","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"\\n\".join(","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"    [f\"-
          é—®é¢˜ï¼š{q[''question'']} ç­”æ¡ˆï¼š{q[''answer'']}\" for q in answered_questions]","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":")
          +","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"\\n\\n###
          ä¹‹å‰çš„ä¸ªæ€§æè¿°ï¼š\\n\" + old_personality +","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"\\n\\n###
          ä»»åŠ¡è¦æ±‚ï¼š\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"1.
          ç”Ÿæˆçš„äººæ ¼æè¿°éœ€è¦†ç›–ç”¨æˆ·çš„æ²Ÿé€šé£æ ¼ã€è¯­è¨€åå¥½ã€è¡¨è¾¾ç‰¹ç‚¹ã€äº’åŠ¨å€¾å‘ç­‰ã€‚\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"2.
          åœ¨æ›´æ–°ä¸ªæ€§æ—¶ï¼Œä¿ç•™ä¹‹å‰æè¿°ä¸­é‡è¦çš„ç‰¹å¾ï¼Œå¹¶ç»“åˆæ–°ä¿¡æ¯é€‚å½“æ‰©å±•æˆ–è°ƒæ•´ã€‚\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"3.
          ç¡®ä¿è¯­è¨€ä¼˜ç¾ï¼Œæè¿°ç”ŸåŠ¨ï¼Œé¿å…è¿‡äºç”Ÿç¡¬æˆ–æœºæ¢°åŒ–ã€‚\\n\\n\"","type":"text","version":1},{"type":"linebreak","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"è¯·ç›´æ¥å¼€å§‹ç”Ÿæˆæ›´æ–°åçš„äººæ ¼æè¿°ï¼š\"","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 581
      height: 381
      id: '1735055050192'
      position:
        x: 3726.936031239541
        y: 959.9367470876447
      positionAbsolute:
        x: 3726.936031239541
        y: 959.9367470876447
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 581
    viewport:
      x: 182.5603903073054
      y: 268.1426593855048
      zoom: 0.4677939165931234
